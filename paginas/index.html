<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calculo de juros 01</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>

<body>
	<div class="content">
		<div class="box entrada_dados">
			<h2 class="titulo01">calcular valor de uma obrigação atrasada a ser paga atraves de um boleto bancario.</h2>
			<form>
				<label for="idvalorBoleto">1. Valor original do boleto</label>
				<input id="idvalorBoleto" name="valorBoleto" type="text" class="input valorbole">

				<label for="idDataVencimento">02.Data de vencimento</label>
				<input id="idDataVencimento" type="date" name="data de vencimento" class="input dataVenc">

				<label for="idDataPagamento">03.Data do Pagamento</label>
				<input id="idDataPagamento" type="date" name="data do pagamanto" class="input dataPagamento">

				<label for="idvalorMulta">04.valor da multa</label>
				<input id="idvalorMulta" type="text" name="valorDaMulta" class="input valorMulta">

				<label for="idValorMora">05.valor da mora</label>
				<input id="idValorMora" type="text" name="valorDaMora" class="input valorMora">

			</form>
			<button id="btn_01" onclick="valorDoBoleto(),
				valorDaMulta(),
				diasDeAtraso(),
				valorDaMora(),
				valorDoJuros(),
				valorDoJurosEmdinheiro(),
				fun_valorTotal()">Resulted
			</button>


		</div>


		<div class="box saida_dados">
			<h2 class="titulo02">Valor atualizado de um boleto bancário vencido.</h2>

			<p>Valor do boleto --><span id="spanvalorBoleto">valor</span></p>
			<p>Valor da multa --><span id="spanvalorMulta">valor</span></p>
			<p> Valor da mora:
				<span class="s" id="spanValorDaMora">valor</span>% por <span id="spanDiasEmAtraso">valor</span> dias
				(<span class="s" id="spanValorJuros">valor</span>%):<span id="spanValorJurosEmDinheiro">valor</span>
			</p>
			
			<p>Valor final = valor com mora + valor da multa</p>
			<p>Valor a ser pago: <span id="ValorTotal">valor</span></p>
			<hr>
			<div class="conta_deposito">
				<h2>conta para deposito</h2><br>
				<p>AGÊNCIA 0602 </p>
				<p>CONTA/CORRENTE: 4912-3</p>
			</div>

		</div>

	</div>

	<script src="../js/index.js"></script>
	<script>
	//Valor do boleto
function valorDoBoleto() {
	let spanvalor_boleto = document.getElementById('spanvalorBoleto');
	let valor_boleto = document.getElementById('idvalorBoleto').value;
	valor_boleto = parseFloat(valor_boleto).toLocaleString('pt-BR', {
		style: 'currency',
		currency: 'BRL' 
	}); 
	spanvalor_boleto.innerHTML = valor_boleto;
}
//Valor da multa
function valorDaMulta() {
	let spanvalor_multa = document.getElementById('spanvalorMulta');
	let inpvalor_multa = document.getElementById('idvalorMulta').value;
	let valor_boleto = document.getElementById('idvalorBoleto').value;

	valor_boleto = parseFloat(valor_boleto);
	inpvalor_multa = parseInt(inpvalor_multa);
	let result_valorMulta = Number.parseInt(valor_boleto * inpvalor_multa)/100;
	spanvalor_multa.innerHTML = parseFloat(result_valorMulta).toLocaleString('pt-BR', {
		style:'currency',
		currency:'BRL'
	});
}
//Obtendo dias de atraso.
function diasDeAtraso() {
	let inputDataVencimento = document.getElementById('idDataVencimento').value
	let inputDataPagamento = document.getElementById('idDataPagamento').value;
	let spanDiasAtraso = document.getElementById('spanDiasEmAtraso');
	inputDataVencimento = new Date(inputDataVencimento);
	inputDataPagamento = new Date(inputDataPagamento);
	let umDia = 24*60*60*1000;
	let diferençaDeTempo = Math.abs(inputDataPagamento - inputDataVencimento);
	let diferençaDeDias = Math.ceil(diferençaDeTempo/umDia);
	spanDiasAtraso.innerHTML = (diferençaDeDias);

}
//valor da mora.
function valorDaMora() {
	let inputValorMora = document.getElementById('idValorMora').value;
	let spanValorMora = document.getElementById('spanValorDaMora')
	inputValorMora = parseFloat(inputValorMora);
	spanValorMora.innerHTML = inputValorMora;
}
//valor porcentagem do juros.
function valorDoJuros() {
	let inputDataVencimento = document.getElementById('idDataVencimento').value
	let inputDataPagamento = document.getElementById('idDataPagamento').value;
	let inputValorMora = document.getElementById('idValorMora').value;
	let spanJuros = document.getElementById('spanValorJuros')
	
	inputValorMora = parseFloat(inputValorMora)
	inputDataVencimento = new Date(inputDataVencimento);
	inputDataPagamento = new Date(inputDataPagamento);
	
	let umDia = 1000*60*60*24;
	let diferençaDeTempo = Math.abs(parseFloat(inputDataPagamento - inputDataVencimento));
	let diferençaDeDias = Math.ceil(parseFloat(diferençaDeTempo/umDia));
	let result_valorJuros = parseFloat(diferençaDeDias * inputValorMora).toFixed(4);
	spanJuros.innerHTML = result_valorJuros;
}
//valor do juros em dinheiro
function valorDoJurosEmdinheiro() {
	let inputDataVencimento = document.getElementById('idDataVencimento').value
	let inputDataPagamento = document.getElementById('idDataPagamento').value;
	let valor_boleto = document.getElementById('idvalorBoleto').value;
	let inputValorMora = document.getElementById('idValorMora').value;
	let spanJurosDinheiro = document.getElementById('spanValorJurosEmDinheiro');
	valor_boleto = parseFloat(valor_boleto);
	inputValorMora = parseFloat(inputValorMora);
	inputDataVencimento = new Date(inputDataVencimento);
	inputDataPagamento = new Date(inputDataPagamento);
	//
	let umDia = 1000*60*60*24;
	let diferençaDeTempo = Math.abs(parseFloat(inputDataPagamento - inputDataVencimento));
	let diferençaDeDias = Math.ceil(parseFloat(diferençaDeTempo/umDia));
	let valorJuros = (diferençaDeDias * inputValorMora);
	let resultado_valorJuros = parseFloat((valorJuros * valor_boleto)/100).toLocaleString('pt-BR', {
		style:'currency',
		 currency:'BRL'
		});
	
	spanJurosDinheiro.innerHTML = resultado_valorJuros;
}
//valor total da fatura 
function fun_valorTotal() {
	let inputDataVencimento = document.getElementById('idDataVencimento').value;
	let inputDataPagamento = document.getElementById('idDataPagamento').value;
	let valor_boleto = document.getElementById('idvalorBoleto').value;
	let inputValorMora = document.getElementById('idValorMora').value;
	let inpvalor_multa = document.getElementById('idvalorMulta').value;
	let spanValorTotal = document.getElementById('ValorTotal');

	valor_boleto = parseFloat(valor_boleto).toFixed(2);
	inpvalor_multa = parseInt(inpvalor_multa * valor_boleto)/100;
	inputValorMora = parseFloat(inputValorMora);
	inputDataVencimento = new Date(inputDataVencimento);
	inputDataPagamento = new Date(inputDataPagamento);
	//
	let umDia = 1000*60*60*24;
	let diferençaDeTempo = Math.abs(inputDataPagamento - inputDataVencimento);
	let diferençaDeDias = Math.ceil(diferençaDeTempo/umDia);
	let result_valorJuros = ((diferençaDeDias) * parseFloat(inputValorMora) * parseFloat(valor_boleto)/100);
	let total = (parseFloat(result_valorJuros) + parseFloat(valor_boleto));
	let total02 = parseFloat(total + inpvalor_multa);
	spanValorTotal.innerHTML = total02.toLocaleString('pt-BR', {style:'currency', currency:'BRL'});	
}
	</script>

</body>

</html>
